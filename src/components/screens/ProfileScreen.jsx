import { FlexWrapper } from '../shared/ContentWrapper';
import styled from 'styled-components';
import bgImage from '../../assets/images/profileBg.svg';
import { useSizeRatio } from '../../hooks/useSizeRatio';
import { BackHeader } from '../shared/BackHeader';
import { useProgress, CURRENT_WEEK } from '../../contexts/ProgressContext';
import { useState } from 'react';
import { SCREENS } from '../../constants/screens';

const Wrapper = styled(FlexWrapper)`
    position: fixed;
    inset: 0;
    background: url(${() => '"' + bgImage + '"'}) no-repeat 0 0;
    background-color: var(--color-purple);
    background-size: cover;
    z-index: 35;
`;

const Content = styled.div`
    position: relative;
    font-size: ${({ $ratio }) => 18 * $ratio}px;
    font-weight: 500;
    width: ${({ $ratio }) => 357 * $ratio}px;
    height: ${({ $ratio }) => 517 * $ratio}px;
    margin-top: ${({ $ratio }) => 96 * $ratio}px;
    flex-shrink: 0;
    padding: ${({ $ratio }) => 21 * $ratio}px ${({ $ratio }) => 14 * $ratio}px ${({ $ratio }) => 39 * $ratio}px;
`;

const IdWrapper = styled.div`
    position: relative;
    width: ${({ $ratio }) => 147 * $ratio}px;
    height: ${({ $ratio }) => 49 * $ratio}px;
    padding: ${({ $ratio }) => 15 * $ratio}px ${({ $ratio }) => 15 * $ratio}px ${({ $ratio }) => 14 * $ratio}px;
    font-weight: 500;
    margin-bottom: ${({ $ratio }) => 18 * $ratio}px;
`;

const NameWrapper = styled.div`
    position: relative;
    width: ${({ $ratio }) => 331 * $ratio}px;
    height: ${({ $ratio }) => 69 * $ratio}px;
    padding: ${({ $ratio }) => 13 * $ratio}px ${({ $ratio }) => 15 * $ratio}px ${({ $ratio }) => 15 * $ratio}px;
    font-weight: 500;
    margin-bottom: ${({ $ratio }) => 13 * $ratio}px;
    
    & p + p {
        margin-top: var(--spacing_x1);
    }
`;

const SvgWrapper = styled.div`
    position: absolute;
    z-index: -1;
    inset: 0;
`;

const UnivInfo = styled.div`
    margin-bottom: var(--spacing_x4);
`;

const UnivWrapper = styled.div`
    position: relative;
    width: ${({ $ratio }) => 335 * $ratio}px;
    height: ${({ $ratio }) => 148 * $ratio}px;
    padding: ${({ $ratio }) => 14 * $ratio}px ${({ $ratio }) => 16 * $ratio}px ${({ $ratio }) => 24 * $ratio}px;
    margin-bottom: var(--spacing_x2);
`;

const LabelStyled = styled.p`
    margin-bottom: var(--spacing_x1);
    font-size: var(--font_sm);
    font-weight: 400;
`;

const Picture = styled.div`
    position: absolute;
    width: ${({ $ratio }) => 115 * $ratio}px;
    height: ${({ $ratio }) => 76 * $ratio}px;
    top: ${({ $ratio }) => 83 * $ratio}px;
    right: ${({ $ratio }) => 50 * $ratio}px;
`;

const EmailWrapper = styled.div`
    position: relative;
    width: ${({ $ratio }) => 334 * $ratio}px;
    height: ${({ $ratio }) => 69 * $ratio}px;
    padding: ${({ $ratio }) => 14 * $ratio}px ${({ $ratio }) => 15 * $ratio}px;
`;

const RefArea = styled.div`
    position: relative;
    padding-top: ${({ $ratio }) => 28 * $ratio}px;
`;

const RefTitle = styled.p`
    margin-left: var(--spacing_x4);
`;

const RefSvg = styled.div`
    position: absolute;
    top: ${({ $ratio }) => 20 * $ratio}px;
    right: ${({ $ratio }) => 60 * $ratio}px;
    width: ${({ $ratio }) => 62 * $ratio}px;
    height: ${({ $ratio }) => 26 * $ratio}px;
`;

const RefField = styled.div`
    position: relative;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: calc(var(--spacing_x2) * 1.2) var(--spacing_x4);
    margin-top: var(--spacing_x3);
    font-size: var(--font_sm);
    font-weight: 500;
    outline: none;
    border: 3px solid var(--color-blue);
    border-radius: var(--border-radius-xl);
    background: #ffffff;
    width: 100%;

    font-weight: 500;

    color: rgba(0,0,0,0.3);
`;

const RefButton = styled.button`
    width: ${({ $ratio }) => 20 * $ratio}px;
    height: ${({ $ratio }) => 20 * $ratio}px;
    background: transparent;
    border: none;
    outline: none;
`;

const CopyInfo = styled.div`
    position: absolute;
    top: 50%;
    right: calc(var(--spacing_x7) * 2);
    transform: translate(0, -50%);
    color: #083617;
`;

export const ProfileScreen = ({ onClose }) => {
    const { user, next, tgInfo } = useProgress();
    const ratio = useSizeRatio();
    const [isSuccessCopy, setIsSuccessCopy] = useState(false);

    const handleCopy = () => {
        if (navigator.clipboard) {
            navigator.clipboard.writeText(`ref_id_${tgInfo?.tgUserId ?? ''}`).then(() => {
                setIsSuccessCopy(true);

                setTimeout(() => setIsSuccessCopy(false), 3000);
            });
        }
    }

    const handleClose = () => {
        if (typeof onClose === 'function') {
            onClose();
            return;
        }

        if (CURRENT_WEEK > 4 || user.gameProgress[12]?.isCompleted) {
            next(SCREENS.FINISH);

            return;
        }

        next(SCREENS[`LOBBY${user.currentWeek}`]);
    }

    return (
        <Wrapper>
            <BackHeader onBack={handleClose} />
            <Content $ratio={ratio}>
                <Picture $ratio={ratio}>
                    <svg width="100%" height="100%" viewBox="0 0 115 76" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M70.8941 61.6668C70.8411 61.5547 70.6758 61.4955 70.6228 61.3834C70.7174 60.8584 70.4461 60.5751 70.0034 60.5098C70.3284 59.6016 69.7206 59.4772 69.1423 59.2703C69.0362 59.046 68.9831 58.9339 68.877 58.7096C69.0247 58.2968 68.9777 57.9074 68.5115 57.6475C68.3348 56.8391 67.7686 56.0776 67.7041 55.2163C68.2058 55.1164 68.6544 54.9043 68.4421 54.4558C67.9941 53.3641 68.8497 53.5771 69.381 53.3947C69.9122 53.2122 70.148 53.8554 70.6732 53.9502C70.8379 55.3131 71.7286 56.4701 72.3418 57.6209C74.3704 61.3273 77.2553 63.943 81.1911 65.4445C82.5129 65.9174 83.8817 66.7798 85.3573 66.5626C87.6415 66.1692 90.0257 66.2772 92.2924 65.4117C97.1327 63.6044 100.451 60.321 102.165 55.532C104.115 50.0825 102.866 44.9787 99.4977 40.3274C98.7427 39.3121 98.1234 38.4385 98.5961 37.1174C100.715 36.6648 102.196 37.4742 103.488 39.3335C106.72 43.8431 107.751 48.7757 106.745 54.1906C105.645 60.1304 102.302 64.5228 97.1605 67.4331C94.4627 68.9826 91.3404 69.6349 88.177 69.6207C84.7363 69.6003 81.591 68.7543 78.4813 67.5484C77.8324 66.7574 77.3018 65.6361 75.8497 66.0479C75.6315 65.8767 75.3836 65.788 75.0827 65.5872C74.7999 64.5546 74.204 63.8757 73.1832 63.6035C72.8527 63.4853 72.6049 63.3966 72.2449 63.3609C72.3516 62.2814 71.7203 61.9624 70.8941 61.6668Z" fill="#FF4052" />
                        <path d="M66.8053 46.7912C67.0608 42.6914 68.9096 39.3479 71.5549 36.3825C73.6865 34.0716 76.3312 32.41 79.2117 31.3917C81.3367 30.6618 83.5973 30.0736 85.946 30.5415C87.2443 30.8197 88.5251 30.6261 89.8529 30.8218C92.7859 31.2193 95.0279 32.7667 97.3525 34.3437C98.3379 34.9757 98.6503 35.9257 98.3192 37.1112C95.953 36.1714 93.5633 35.0368 91.138 34.2621C86.5883 32.9135 82.2147 33.6771 78.1119 36.0277C76.3409 37.0705 75.0065 38.4559 73.5069 39.7821C71.9487 39.9697 71.8601 40.2173 72.6151 41.2326C72.55 41.675 72.3196 42.0582 71.8415 42.3528C71.192 42.8656 70.2417 43.1775 70.8846 44.2458C70.9551 44.8299 70.8309 45.4375 70.4058 45.8442C69.6092 45.466 69.1015 45.8431 68.6468 46.3324C68.2688 47.1286 67.6018 47.1694 66.8053 46.7912Z" fill="#FF4052" />
                        <path d="M66.8055 46.7912C67.5195 47.1398 68.1864 47.0989 68.8123 46.3915C69.2965 45.8196 69.8042 45.4425 70.5712 45.9033C70.3458 48.6168 70.4272 51.2538 70.5913 53.9205C70.1487 53.8552 69.8303 53.1825 69.2991 53.365C68.88 53.4944 67.9122 53.3344 68.3603 54.4261C68.5725 54.8747 68.0118 55.1397 67.6222 55.1866C66.5603 54.2477 66.7025 52.8084 66.4788 51.6106C66.0959 50.0765 66.132 48.413 66.8055 46.7912Z" fill="#FF4052" />
                        <path d="M75.5717 66.0417C76.9411 65.6003 77.4718 66.7217 78.2033 67.5423C77.0346 67.683 76.3032 66.8623 75.5717 66.0417Z" fill="#FF4052" />
                        <path d="M73.0178 63.5444C74.0387 63.8165 74.6344 64.4954 74.9173 65.528C74.0381 65.1203 73.1589 64.7125 73.0178 63.5444Z" fill="#FF4052" />
                        <path d="M70.8952 61.6667C71.7509 61.8797 72.3527 62.2813 72.1634 63.3312C71.3373 63.0356 70.9893 62.4455 70.8952 61.6667Z" fill="#FF4052" />
                        <path d="M69.0596 59.2407C69.6379 59.4476 70.2988 59.6841 69.9207 60.4802C69.4546 60.2203 68.9884 59.9603 69.0596 59.2407Z" fill="#FF4052" />
                        <path d="M69.9215 60.4801C70.4467 60.5749 70.6354 60.8287 70.5408 61.3537C69.986 61.3414 69.8268 61.0051 69.9215 60.4801Z" fill="#FF4052" />
                        <path d="M68.3994 57.7003C68.8655 57.9603 68.9421 58.2671 68.7649 58.7625C68.3813 58.5321 68.2517 58.1132 68.3994 57.7003Z" fill="#FF4052" />
                        <path d="M73.6714 39.8411C73.4646 40.4191 73.3404 41.0266 72.7796 41.2916C72.0246 40.2763 72.1132 40.0287 73.6714 39.8411Z" fill="#FF4052" />
                        <path d="M72.0065 42.4119C72.1006 43.1907 71.4512 43.7035 71.0496 44.3049C70.4067 43.2366 71.3571 42.9246 72.0065 42.4119Z" fill="#FF4052" />
                        <path d="M81.8968 57.2212C83.3193 56.892 83.3434 55.7829 83.8571 55.1285C84.3413 54.5566 84.6899 53.843 85.516 54.1386C86.4248 54.4638 87.3039 54.8715 87.8111 55.7981C87.9172 56.0224 87.8816 56.3822 87.793 56.6299C86.7004 58.3812 85.5782 60.215 83.7777 61.3404C82.8214 61.9296 82.0423 62.0233 80.8622 61.4148C78.095 59.7726 77.747 59.1825 78.3976 56.0622C78.6695 55.0418 78.5814 53.9858 79.0186 53.0245C79.4557 52.0633 80.0165 51.7982 81.0374 52.0703C81.6983 52.3068 82.0523 52.6198 81.9516 53.422C81.8449 54.5015 81.9565 55.7523 81.8968 57.2212Z" fill="#FF4052" />
                        <path d="M94.0914 54.1335C92.5218 53.5718 92.1268 52.5922 92.7177 50.9408C93.2199 49.5372 94.6424 49.2079 96.8729 50.0061C98.1947 50.479 98.7785 51.7124 98.2232 53.004C97.5557 54.3485 95.9619 54.8959 94.0914 54.1335Z" fill="#FF4052" />
                        <path d="M78.0611 42.1571C79.2768 42.4058 80.1204 43.1734 80.4207 44.678C80.621 45.681 80.0837 46.1408 79.4638 46.571C78.8144 47.0837 75.9935 46.6332 75.4508 46.0664C74.7429 45.4405 74.6904 44.0246 75.2457 42.7331C75.9367 41.5833 76.2437 41.5068 78.0611 42.1571Z" fill="#FF4052" />
                        <path d="M46.8505 15.4423C45.1179 14.0557 43.1402 13.5323 41.1422 12.686C37.3264 11.0819 33.4719 11.6492 29.5801 12.0194C26.9256 12.2368 24.5661 13.5823 22.261 14.9993C19.6159 16.5624 17.8201 18.9444 16.0242 21.3265C12.15 26.7567 11.6709 32.6458 13.1865 38.9326C13.8885 41.7804 15.3246 44.4073 16.9207 46.7997C19.6781 51.0137 23.7688 53.4232 28.6697 53.6376C33.6962 53.8689 38.6622 53.1317 42.9123 50.1211C43.9663 49.4313 44.8635 49.4245 45.8695 49.5605C46.9298 49.7679 48.0816 50.2437 49.1899 49.6253C49.873 49.7817 50.4847 49.9923 51.2019 49.8972C51.2562 49.9686 51.3105 50.04 51.382 49.9856C51.7251 50.2881 52.1566 50.4104 52.568 50.2099C53.1455 50.6721 53.7199 50.6857 54.3455 50.3221C55.2629 50.6382 56.1431 50.7572 56.7826 49.8193C56.9425 49.5849 56.9766 49.3334 56.9564 49.0106C56.9223 49.2621 56.9425 49.5849 56.7826 49.8193C56.9968 49.6562 57.2653 49.5645 57.4795 49.4014C58.8533 48.2427 58.7617 47.9742 57.2636 46.7474C56.4516 46.1254 55.7824 45.3948 55.3446 44.3753C54.6692 42.7476 53.7966 41.1571 52.6384 39.7841C52.5468 39.5157 52.3295 39.2302 52.0236 39.1248C51.9087 38.085 51.328 37.1742 50.7473 36.2635C50.7271 35.9407 50.6355 35.6722 50.6696 35.4207C52.262 32.1789 52.2742 28.7874 51.7833 25.328C51.4694 21.5083 50.0269 17.9843 46.8505 15.4423ZM56.8989 48.4906C56.916 48.3649 56.8073 48.2222 56.8244 48.0965C56.8073 48.2222 56.8617 48.2935 56.8989 48.4906ZM48.3092 26.3949C48.7255 29.4601 48.6389 32.4573 47.655 35.4613C46.9162 37.6022 48.2374 39.1892 48.9672 40.8884C49.2591 41.568 49.8196 42.156 50.3086 42.7982C50.6176 43.3522 50.8008 43.8891 51.1812 44.3887C52.0708 45.8534 52.1422 45.799 50.4968 46.6009C50.7856 46.832 51.0743 47.0631 51.5229 47.0597C51.2 47.0801 50.8399 46.9034 50.4968 46.6009L50.3711 46.5839C49.9768 46.6586 49.6197 46.9305 49.2084 47.131C49.5483 46.9849 49.9597 46.7844 50.3711 46.5839C49.719 45.7275 48.8248 46.1828 47.999 46.1352C46.2525 45.323 44.5806 44.9049 42.8498 46.3354C40.6022 48.2723 37.7878 48.7242 35.0107 49.3731C32.8964 49.8555 30.7789 49.8894 28.6956 49.6718C25.0864 49.376 22.4161 47.3505 20.4226 44.5843C19.2442 42.8885 18.3515 40.9752 17.5844 39.0789C16.0876 35.4835 15.828 31.7353 16.8972 28.1026C17.8609 24.7758 19.6335 21.6223 22.0379 19.0024C23.5342 17.4121 25.5739 16.5354 27.6882 16.053C29.6768 15.5535 31.8081 14.9454 33.7657 15.146C38.2381 15.6865 42.8191 16.3698 45.9677 20.0604C47.3262 21.8445 47.9162 24.1011 48.3092 26.3949Z" fill="#955EEB" />
                        <path d="M33.5617 29.6707C34.0425 28.5703 34.3735 27.6978 34.7866 26.7618C35.41 25.3831 37.8277 24.4162 40.0403 24.5617C40.5022 24.5983 40.7174 24.8252 40.836 25.0143C41.1917 25.5818 41.5473 26.1493 41.4629 26.8317C41.2025 28.8285 41.1137 30.7489 40.3987 32.7595C39.5411 35.0484 38.2144 37.2502 36.895 39.5025C36.6775 39.8948 36.4672 40.3375 36.3319 40.6663C36.0614 41.324 35.3675 41.5786 34.4802 41.7579C33.5928 41.9372 32.848 41.8382 32.2457 41.4609C31.1453 40.7944 30.3954 40.0258 29.7204 39.1434C28.0149 36.811 25.8693 34.5936 24.8576 32.0066C24.4074 30.7825 24.0394 29.495 24.4838 28.142C24.8751 27.0545 25.2934 26.788 27.0004 26.5938C27.9023 26.5155 28.8501 26.1213 29.6385 26.5234C30.9179 27.1641 32.6155 27.5384 33.0439 28.611C33.1916 29.0022 33.3174 29.2419 33.5617 29.6707Z" fill="#10AFFF" />
                    </svg>
                </Picture>
                <SvgWrapper>
                    <svg width="100%" height="100%" viewBox="0 0 357 517" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M61.9172 516.611C17.7725 516.611 8.13271 497.752 6.83805 488.229C-6.44626 390.51 4.18163 256.165 1.62696 243.329C-0.927711 230.493 1.62696 70.6271 1.62696 30.463C1.62696 -9.70111 61.9172 0.950684 90.0185 2.19287C118.12 3.43506 289.311 -0.705566 321.5 2.19287C359.93 5.65329 356.073 35.6428 353.078 64.3241C350.543 88.6067 353.078 229.873 353.078 260.243C353.078 301.851 363.315 461.826 350.71 497.116C348.69 502.771 343.399 506.791 334.241 508.673C280.773 519.663 109.029 516.611 61.9172 516.611Z" fill="white" />
                    </svg>
                </SvgWrapper>
                <NameWrapper $ratio={ratio}>
                    <p>{(user.name ?? '')}</p>
                    <p>{(user.surname ?? '')}</p>
                    <SvgWrapper>
                        <svg width="100%" height="100%" viewBox="0 0 331 69" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M28.0688 3.2012C8.94029 4.59317 4.91723 17.3143 5.29676 23.5008C3.88286 31.0407 -3.24272 59.4601 9.28189 64.68C21.8065 69.8999 152.313 64.68 187.718 64.68H314.427C335.491 64.68 327.521 48.4403 327.521 25.2408C327.521 2.04121 314.427 6.10114 309.873 3.2012C305.318 0.301251 189.181 3.2012 177.795 6.10114C166.409 9.00109 51.9794 1.46123 28.0688 3.2012Z" stroke="#04E061" strokeWidth="3" />
                        </svg>
                    </SvgWrapper>
                </NameWrapper>
                <IdWrapper $ratio={ratio}>
                    <p>ID: {user.id}</p>
                    <SvgWrapper>
                        <svg width="100%" height="100%" viewBox="0 0 147 49" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8.50014 5.18841C-1.99986 8.18841 2 37.6884 6.50014 45.1884C10 51.0213 68.4999 42.6884 109.5 45.1884C150.5 47.6884 145 45.1884 143.5 18.6884C142 -7.81163 90.4999 5.18841 71.9999 5.18841C53.4999 5.18841 19.0001 2.18841 8.50014 5.18841Z" stroke="#04E061" strokeWidth="3" />
                        </svg>
                    </SvgWrapper>
                </IdWrapper>
                <UnivWrapper $ratio={ratio}>
                    <SvgWrapper>
                        <svg width="100%" height="100%" viewBox="0 0 335 148" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M38.5581 2.64957C6.55696 -0.964998 0.949934 11.3848 2.14656 18.0115V119.22C2.14656 136.389 11.8907 145.877 27.7886 141.359C43.6866 136.841 293.439 147.232 319.081 145.877C344.723 144.522 328.026 39.2471 327 18.0115C325.974 -3.2241 282.156 8.07146 250.873 7.16782C219.59 6.26418 78.5594 7.16779 38.5581 2.64957Z" stroke="#FF4053" strokeWidth="3" />
                        </svg>
                    </SvgWrapper>
                    <UnivInfo>
                        <LabelStyled>ВУЗ</LabelStyled>
                        <p>{user.university}</p>
                    </UnivInfo>
                    <LabelStyled>Факультет</LabelStyled>
                    <p>{user.faculty}</p>
                </UnivWrapper>
                <EmailWrapper $ratio={ratio}>
                    <SvgWrapper>
                        <svg width="100%" height="100%" viewBox="0 0 334 69" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M28.3081 3.2012C9.00415 4.59317 4.61695 13.3134 4.99996 19.5C3.57309 27.0399 -3.29063 59.4601 9.34889 64.68C21.9884 69.8999 153.692 64.68 189.422 64.68H317.294C338.551 64.68 330.508 48.4403 330.508 25.2408C330.508 2.04121 317.294 6.10114 312.697 3.2012C308.101 0.301251 190.898 3.2012 179.408 6.10114C167.917 9.00109 52.4381 1.46123 28.3081 3.2012Z" stroke="#FF4053" strokeWidth="3" />
                        </svg>
                    </SvgWrapper>
                    <LabelStyled>e-mail</LabelStyled>
                    <p>{user.email}</p>
                </EmailWrapper>
                <RefArea $ratio={ratio}>
                    <RefTitle>Реферальная ссылка</RefTitle>
                    <RefSvg $ratio={ratio}>
                        <svg width="100%" height="100%" viewBox="0 0 62 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6.758 12.1957C8.92184 7.45217 12.5846 5.11638 17.5989 4.64788C18.9017 4.52459 20.1553 4.00816 21.5563 4.03229C25.0712 4.03118 25.1942 4.0557 28.635 5.7011C28.1186 7.00372 27.2336 7.91324 26.3239 8.94567C23.6688 11.9938 23.0781 16.5402 25.0193 19.9309C25.8302 21.3068 26.764 22.7073 27.9436 23.8373C30.2537 26.0237 31.9988 26.2444 34.7765 24.8182C36.5464 23.9575 38.513 23.0722 39.0541 21.0078C39.7919 18.5992 39.7677 16.1663 39.1045 13.7337C38.3921 11.2273 37.3356 8.84392 35.7875 6.68185C35.296 5.94477 35.1978 5.47786 36.2302 5.10892C38.8604 4.10053 41.4659 3.85395 44.2432 4.66403C44.489 4.7131 44.784 4.83588 45.1035 4.83578C49.2082 5.08023 51.9361 7.41397 54.4919 10.2884C56.9494 13.0154 58.7678 16.062 59.5783 19.6742C61.9381 18.7397 61.9381 18.7396 61.5698 16.4297C60.7352 10.0652 57.0244 5.93785 51.5437 2.99064C48.3732 1.27142 44.9813 0.658138 41.5401 0.929547C38.9346 1.17612 36.1079 1.57022 33.748 3.14374C33.0843 3.58629 32.4452 3.58647 31.7571 3.19349C29.8892 1.98993 27.9476 1.15503 25.6863 0.959148C21.8028 0.567184 17.9438 0.691281 14.232 1.99491C11.2823 3.0034 8.47999 4.233 6.53772 6.91224C6.02144 7.57592 5.52985 7.47781 5.18588 6.64238C4.89106 5.88067 4.81747 4.97142 4.5964 4.16053C4.47362 3.49706 4.3017 2.75988 3.83478 2.21939C3.36786 1.6789 2.77802 1.43334 2.01594 2.04794C0.737633 3.00675 0.270425 4.06362 0.51593 5.71003C0.859619 8.14281 1.12955 10.6248 1.47324 13.0575C1.86601 15.8835 3.11938 16.9644 5.89696 16.4966C7.07681 16.3487 8.25665 16.2009 9.48559 16.4462C9.85427 16.5198 10.1738 16.5198 10.518 16.3968C11.747 16.0032 13.0991 14.6757 12.8043 13.914C12.3375 12.7346 11.1823 12.7596 10.1254 12.6124C9.06846 12.4653 7.91319 12.4903 6.758 12.1957ZM29.7878 19.7328C29.1488 19.0941 28.8048 18.5781 28.6083 17.9638C28.4117 17.3495 28.2152 16.7352 28.0678 16.1946C27.3308 13.8111 28.5359 10.0263 30.478 8.62493C31.5104 7.93651 31.7562 7.98554 32.5918 8.91911C33.673 10.2212 34.3118 11.8184 34.9506 13.4155C35.7859 15.627 36.2034 18.0106 35.4164 20.3454C34.7033 22.3116 33.2038 22.779 31.508 21.6736C30.5987 21.1087 30.1072 20.3717 29.7878 19.7328Z" fill="#04DF60" />
                        </svg>
                    </RefSvg>
                    <RefField>
                        <p>ref_link_{tgInfo?.tgUserId ?? ''}</p>
                        <RefButton $ratio={ratio} onClick={handleCopy}>
                            <svg width="100%" height="100%" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M5.88462 13.4615H3V3.0769H13.3846V4.80767" stroke="black" />
                                <rect x="7.61523" y="6.53845" width="10.3846" height="10.3846" stroke="black" />
                            </svg>
                        </RefButton>
                        {isSuccessCopy && (
                            <CopyInfo $ratio={ratio}>Скопировано</CopyInfo>
                        )}
                    </RefField>
                </RefArea>

            </Content>
        </Wrapper>
    )
}